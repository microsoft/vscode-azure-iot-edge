{
  "name": "azure-iot-edge",
  "displayName": "Azure IoT Edge",
  "description": "Azure IoT Edge",
  "version": "0.0.1",
  "publisher": "vsciot-vscode",
  "engines": {
    "vscode": "^1.15.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onCommand:azure-iot-edge.editTemplate",
    "onCommand:azure-iot-edge.deployTemplate",
    "onCommand:azure-iot-edge.updateInterval",
    "onCommand:azure-iot-edge.generateDeploymentJsonForVerification",
    "onCommand:azure-iot-edge.generateRoutesJsonForVerification",
    "onCommand:azure-iot-edge.verifyModule",
    "onCommand:azure-iot-edge.viewModuleInput",
    "onCommand:azure-iot-edge.viewModuleOutput",
    "onCommand:azure-iot-edge.login",
    "onCommand:azure-iot-edge.deploy",
    "onCommand:azure-iot-edge.launch",
    "onCommand:azure-iot-edge.buildAndPushDockerImage"
  ],
  "main": "./out/src/extension",
  "contributes": {
    "commands": [
      {
        "command": "azure-iot-edge.editTemplate",
        "title": "Edge: Edit input template"
      },
      {
        "command": "azure-iot-edge.deployTemplate",
        "title": "Edge: Deploy input template"
      },
      {
        "command": "azure-iot-edge.updateInterval",
        "title": "Edge: Update interval"
      },
      {
        "command": "azure-iot-edge.generateDeploymentJsonForVerification",
        "title": "Edge: Generate deployment.json for module verification"
      },
      {
        "command": "azure-iot-edge.generateRoutesJsonForVerification",
        "title": "Edge: Generate routes.json for module verification"
      },
      {
        "command": "azure-iot-edge.verifyModule",
        "title": "Edge: Verify Module"
      },
      {
        "command": "azure-iot-edge.viewModuleInput",
        "title": "Edge: View Module Input"
      },
      {
        "command": "azure-iot-edge.viewModuleOutput",
        "title": "Edge: View Module Output"
      },
      {
        "command": "azure-iot-edge.login",
        "title": "Edge: Login"
      },
      {
        "command": "azure-iot-edge.deploy",
        "title": "Edge: Deploy"
      },
      {
        "command": "azure-iot-edge.launch",
        "title": "Edge: Launch"
      },
      {
        "command": "azure-iot-edge.buildAndPushDockerImage",
        "title": "Edge: Build and push the module as a Docker image"
      }
    ],
    "configuration": {
      "type": "object",
      "title": "Azure IoT Edge configuration",
      "properties": {
        "azure-iot-edge.iotHubConnectionString": {
          "type": "string",
          "default": "",
          "description": "IoT Hub Connection String"
        }
      }
    },
    "debuggers": [
      {
        "type": "edge-coreclr",
        "label": "Edge Debug (.NET Core)",
        "variables": {
          "pickRemoteProcess": "csharp.listRemoteProcess2"
        },
        "initialConfigurations": [
          {
            "name": "Debug Edge Moddule (.NET Core)",
            "type": "coreclr",
            "request": "attach",
            "processId": "${command:pickRemoteProcess}",
            "pipeTransport": {
              "pipeProgram": "bash",
              "pipeArgs": [
                "-c",
                "docker exec -i <contianer_name> ${debuggerCommand}"
              ],
              "debuggerPath": "/root/vsdbg/vsdbg",
              "pipeCwd": "${workspaceRoot}",
              "quoteArgs": true,
              "windows": {
                "pipeProgram": "cmd",
                "pipeArgs": [
                  "/c",
                  "docker exec -i <contianer_name> ${debuggerCommand}"
                ]
              }
            },
            "sourceFileMap": {
              "/app": "${workspaceRoot}"
            },
            "justMyCode": true
          }
        ]
      }
    ]
  },
  "scripts": {
    "vscode:prepublish": "tsc -p ./",
    "compile": "tsc -watch -p ./",
    "postinstall": "node ./node_modules/vscode/bin/install",
    "tslint": "tslint -t verbose src/**/*.ts",
    "test": "node ./node_modules/vscode/bin/test"
  },
  "devDependencies": {
    "@types/mocha": "^2.2.32",
    "@types/node": "^6.0.40",
    "mocha": "^2.3.3",
    "tslint": "^5.7.0",
    "typescript": "^2.0.3",
    "vscode": "^1.0.0"
  },
  "dependencies": {
    "azure-iothub": "^1.1.15",
    "fs-extra": "^4.0.1"
  }
}
